"use strict";(globalThis.webpackChunk_github_ui_github_ui=globalThis.webpackChunk_github_ui_github_ui||[]).push([[36584],{6873:(e,t,a)=>{a.r(t),a.d(t,{FileResultRow:()=>L,default:()=>E});var n=a(74848),l=a(31078),r=a(53552),i=a(6665),o=a(19189),s=a(78314),c=a(65787),d=a(25407),u=a(66108),m=a(94195),f=a(96459),h=a(69676),p=a(38621),y=a(45800),x=a(72511),g=a(5524),v=a(84268),w=a(31604),b=a(69726),R=a(12683),F=a(10095),_=a(91385),j=a(96540),C=a(7808),k=a(64642),I=a(76492),N=a(54030),T=a(34164);let S={excludeDirectories:!1,excludeSeeAllResults:!1};function E({actionListClassName:e,additionalResults:t,commitOid:a,config:u=S,findFileWorkerPath:p,getItemUrl:b,onRenderRow:F,onItemSelected:_,searchBoxRef:E,className:L,sx:O}){var P;let B,{excludeDirectories:D,excludeSeeAllResults:V}=u,{query:G,setQuery:z}=(0,l.JS)(),H=(0,s.t)(),W=j.useRef(null),M=E??W,[U,K]=j.useState(G.length>0),[q,Z]=j.useState(!!G),{list:X,directories:Y,loading:Q,error:J}=(0,N.o)(a,U,!!D),{path:ee}=(0,r.eu)(),{getUrl:et}=(0,o.Z)(),{queryText:ea,queryLine:en}=(B=(P=(P=G).replaceAll(" ","")).indexOf(":"))>=0?{queryText:P.substring(0,B),queryLine:parseInt(P.substring(B+1),10)}:{queryText:P,queryLine:void 0},{matches:el,clearMatches:er}=function(e,t,a,n){let[l,r]=j.useState(),o=j.useRef(""),s=j.useRef(null),{sendStats:c}=(0,i.T)(),d=j.useRef(!1),u=j.useCallback(()=>{let e=new C.z(a,k.j);e.onmessage=({data:e})=>{d.current=!1,r(e.list),o.current=e.query,e.startTime&&c("repository.find-file",{"find-file-base-count":e.baseCount,"find-file-results-count":e.list.length,"find-file-duration-ms":performance.now()-e.startTime})},s.current=e},[c,a]);return j.useEffect(()=>{if(n)return u(),function(){s.current?.terminate()}},[u,n]),j.useEffect(()=>{if(e.length&&t){d.current&&(s.current?.terminate(),u());let a=o.current&&t.startsWith(o.current);d.current=!0,s.current?.postMessage({baseList:a&&l||e,query:t,startTime:performance.now()})}},[e,t,u]),{matches:l,clearMatches:()=>r(void 0)}}((0,j.useMemo)(()=>[...X,...t??[]].sort(),[t,X]),ea,p,U),{sendRepoClickEvent:ei}=(0,i.T)(),eo=(0,f.Z)(),[es,ec]=j.useState(0),[ed,eu]=j.useState(()=>(0,I.q)()),em=j.useRef(null),ef=j.useRef(null),eh="file-results-list",{sendRepoKeyDownEvent:ep}=(0,i.T)(),{screenSize:ey}=(0,m.lm)(),ex=u.enableOverlay??ey>=m.Gy.large,eg=j.useCallback(e=>{ei("FILE_TREE.SEARCH_RESULT_CLICK"),_?.(e),Z(!1)},[ei,_]),ev=(e,t,a)=>b?b(e,t,a):et({path:e,action:t?"tree":"blob",hash:a}),{containerRef:ew}=(0,y.G)({bindKeys:h.z0.ArrowVertical|h.z0.HomeAndEnd,focusInStrategy:"previous"},[Q,J]);j.useEffect(()=>{G||Z(!1)},[G]),j.useEffect(()=>{document.activeElement!==M.current&&ex&&Z(!1)},[ee,M,ex]);let eb=el?.slice(0,40)||[],eR=el&&el.length>eb.length,eF=(0,n.jsx)("div",{className:(0,T.$)("FileResultsList-module__Box--vA4S3",{"FileResultsList-module__OverlayEnabled--TR58f":ex}),children:J?(0,n.jsx)(x.A,{variant:"danger",className:"m-3",children:"Failed to search"}):(0,n.jsxs)(g.l,{ref:ew,className:(0,T.$)(e,"FileResultsList-module__ActionList--_Vf2k",{"FileResultsList-module__ActionList_Overlay--_kFTy":ex}),role:"listbox",children:[!Q&&eb.map((e,t)=>{let a=Y.includes(e),l=ev(e,a,en?`L${en}`:"");return(0,n.jsx)($,{active:e===ee,index:t,focused:ed&&es===t,match:e,onRender:F,query:ea,onClick:eg,isDirectory:a,to:l,useOverlay:ex,listRef:ew},e)}),(0,n.jsxs)("div",{className:"m-3 text-center",children:[(0,n.jsx)(A,{loading:Q||!el,visibleResultCount:eb.length,truncated:!!eR}),eR&&!V&&(0,n.jsxs)(n.Fragment,{children:["\xa0",(0,n.jsx)(v.A,{id:"see-all-results-link",className:(0,T.$)("focus-visible",{"FileResultsList-module__PrimerLink--vMxOi":ed&&es===eb.length}),ref:em,href:(0,d.Y8Y)({owner:H.ownerLogin,repo:H.name,searchTerm:`path:${ea}`}),children:"See all results"})]})]})]})});return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(R.az,{ref:ef,sx:O,className:L,children:(0,n.jsx)(I.Z,{ariaActiveDescendant:(!ex&&G||ex&&q)&&ed&&es>-1?eR&&es===eb.length?"see-all-results-link":`file-result-${es}`:void 0,ariaExpanded:ex?q:void 0,ariaHasPopup:ex,ariaControls:ex?eh:void 0,ref:M,query:G,onKeyDown:e=>{let{key:t,shiftKey:a,metaKey:n,altKey:l,ctrlKey:r}=e;if(!a&&!n&&!l){if("Escape"===t)G?(ep("FILE_TREE.CANCEL_SEARCH"),z(""),er()):document.activeElement&&document.activeElement.blur();else if(!G)return;else if("Enter"===t){if(!V&&eR&&es===eb.length)eo((0,d.Y8Y)({owner:H.ownerLogin,repo:H.name,searchTerm:`path:${ea}`})),_?.();else if(eb[es]){let e=eb[es];eo(ev(eb[es],!1,en?`L${en}`:"")),Z(!1),_?.(e)}}else if("ArrowDown"===t||r&&"n"===t){if(!V&&eR&&es>=eb.length-1){if(ec(eb.length),em.current&&ew.current){let e=(0,c.U)(ew.current);(0,h.Rt)(em.current,e,{behavior:"instant"})}}else ec(Math.min(es+1,eb.length-1));e.preventDefault();return}else if("ArrowUp"===t||r&&"p"===t){ec(Math.max(es-1,0)),e.preventDefault();return}}},onPreload:()=>K(!0),onSearch:e=>{z(e),e?Z(!0):(er(),Z(!1)),ec(0)},onBlur:e=>{ew.current?.contains(e.relatedTarget)||(Z(!1),eu(!1))},onFocus:()=>{G&&Z(!0),eu(!0)},className:"FileResultsList-module__FilesSearchBox--fSAh3"})}),ex&&(0,n.jsx)(w.T,{anchorRef:ef,open:ex&&q,renderAnchor:null,onClose:()=>{Z(!1)},focusZoneSettings:{disabled:!0},focusTrapSettings:{disabled:!0},width:"xlarge",align:"end",overlayProps:{id:eh,role:"dialog"},children:eF}),!ex&&G&&eF]})}function A({visibleResultCount:e,truncated:t,loading:a}){return(0,n.jsx)("span",{role:"status",className:a||t||0===e?void 0:"sr-only","aria-label":a?"Loading":void 0,children:a?(0,n.jsx)(b.A,{size:"large"}):0===e?"No matches found":t?`First ${e} files shown.`:`Showing ${e} files.`},"results-count-status")}let L=({active:e,focused:t,index:a,match:l,query:r,to:i,isDirectory:o,onClick:s,onRender:d,useOverlay:m,listRef:f})=>{let p=(0,_.Xq)(r,l);d?.();let y=j.useRef(null);j.useEffect(()=>{if(t&&y.current&&f?.current){let e=(0,c.U)(f.current);(0,h.Rt)(y.current,e,{behavior:"instant"})}},[t,f]);let x=(0,j.useCallback)(()=>{s?.(l)},[l,s]);return(0,n.jsx)(g.l.Item,{role:"group",active:e,className:(0,T.$)(t?"FileResultsList-module__ActionList_ItemFocused--lCTMd":void 0),children:(0,n.jsxs)(u.N,{to:i,ref:y,role:"option",onClick:x,id:`file-result-${a}`,tabIndex:m?-1:0,"data-focus-visible-added":t||void 0,className:(0,T.$)("d-flex","FileResultsList-module__ActionList_Item--DMdMo"),children:[(0,n.jsx)("div",{className:"d-flex flex-1 flex-column overflow-hidden",children:(0,n.jsx)(B,{text:l,positionsList:p,LeadingIcon:o?O:P,className:"FileResultsList-module__HighlightMatch--Is2AV"})}),t&&(0,n.jsx)("div",{className:"sr-only",children:`Go to ${o?"folder":"file"}`})]})},l)},O=()=>(0,n.jsx)(F.A,{"aria-label":"Directory",icon:p.FileDirectoryFillIcon,size:"small",className:"FileResultsList-module__Octicon--LtXx2"}),P=()=>(0,n.jsx)(F.A,{"aria-label":"File",icon:p.FileIcon,className:"fgColor-muted mr-2",size:"small"}),$=j.memo(L);function B({text:e,positionsList:t,className:a,LeadingIcon:l}){let r=[],i=0;for(let a of t){if(Number(a)!==a||a<i||a>e.length)continue;let t=e.slice(i,a);t&&r.push(D(t)),i=a+1,r.push((0,n.jsx)("mark",{className:"text-bold bgColor-transparent fgColor-default",children:e[a]},a))}return r.push(D(e.slice(i))),(0,n.jsx)("div",{className:a,children:(0,n.jsxs)(n.Fragment,{children:[l&&(0,n.jsx)(l,{}),r]})})}function D(e){return e.replaceAll("/","/\u200B")}try{E.displayName||(E.displayName="FileResultsList")}catch{}try{A.displayName||(A.displayName="FileResultsStatus")}catch{}try{L.displayName||(L.displayName="FileResultRow")}catch{}try{O.displayName||(O.displayName="DirectoryIcon")}catch{}try{P.displayName||(P.displayName="FileResultIcon")}catch{}try{$.displayName||($.displayName="MemoizedFileResultRow")}catch{}try{B.displayName||(B.displayName="HighlightMatch")}catch{}},8624:(e,t,a)=>{a.d(t,{L:()=>s});var n=a(74848),l=a(21728),r=a(38621),i=a(26108),o=a(34164);let s=a(96540).forwardRef((e,t)=>{let a,s,c,d=(0,l.c)(17),{expanded:u,testid:m,ariaLabel:f,ariaControls:h,onToggleExpanded:p,alignment:y,dataHotkey:x,className:g,size:v,tooltipDirection:w,variant:b}=e,R=u?`collapse-${m}`:`expand-${m}`,F=u?"left"===y?r.SidebarExpandIcon:r.SidebarCollapseIcon:"left"===y?r.SidebarCollapseIcon:r.SidebarExpandIcon;d[0]!==p?(a=e=>{p(e)},d[0]=p,d[1]=a):a=d[1];let _=b??"invisible";return d[2]!==g?(s=(0,o.$)(g,"fgColor-muted"),d[2]=g,d[3]=s):s=d[3],d[4]!==h||d[5]!==f||d[6]!==x||d[7]!==u||d[8]!==t||d[9]!==v||d[10]!==R||d[11]!==F||d[12]!==a||d[13]!==_||d[14]!==s||d[15]!==w?(c=(0,n.jsx)(i.K,{"aria-label":f,tooltipDirection:w,ref:t,"data-testid":R,"aria-expanded":u,"aria-controls":h,icon:F,"data-hotkey":x,onClick:a,variant:_,size:v,className:s}),d[4]=h,d[5]=f,d[6]=x,d[7]=u,d[8]=t,d[9]=v,d[10]=R,d[11]=F,d[12]=a,d[13]=_,d[14]=s,d[15]=w,d[16]=c):c=d[16],c});s.displayName="ExpandButton"},12748:(e,t,a)=>{a.d(t,{_:()=>l});var n=a(74848);function l({buttonFocusId:e,buttonHotkey:t,onButtonClick:a,buttonTestLabel:l,onlyAddHotkeyScopeButton:r}){return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("button",{hidden:!0,"data-testid":l||"","data-hotkey":t,onClick:a,"data-hotkey-scope":e}),!r&&(0,n.jsx)("button",{hidden:!0,"data-hotkey":t,onClick:a})]})}try{l.displayName||(l.displayName="DuplicateOnKeydownButton")}catch{}},17182:(e,t,a)=>{a.d(t,{Nq:()=>Y,H:()=>w,c2:()=>eg,Uy:()=>Q,qn:()=>ek});var n=a(74848),l=a(68273),r=a(21728),i=a(12748),o=a(80780),s=a(8624),c=a(54571),d=a(38621),u=a(21373),m=a(34164),f=a(96540);let h="ExpandFileTreeButton-module__expandButton--oKI1R",p="ExpandFileTreeButton-module__filesButtonBreakpoint--03FKA",y="ExpandFileTreeButton-module__Button_1--g8F6Q",x=f.forwardRef((0,l.th)()?(e,t)=>{let a,l,f,x,v,w,b,R=(0,r.c)(33),{expanded:F,onToggleExpanded:_,className:j,ariaControls:C,textAreaId:k,useFilesButtonBreakpoint:I,variant:N,getTooltipDirection:T}=e,S=void 0===I||I,{toggleTreeShortcut:E}=(0,o.wk)();R[0]===Symbol.for("react.memo_cache_sentinel")?(a=[],R[0]=a):a=R[0];let[A]=(0,c.I)(g,!0,a);R[1]!==F||R[2]!==T?(l=T?.(F)??"se",R[1]=F,R[2]=T,R[3]=l):l=R[3];let L=l;R[4]!==F||R[5]!==A||R[6]!==_||R[7]!==t||R[8]!==E.hotkey||R[9]!==S||R[10]!==N?(f=S&&(!F||A)&&(0,n.jsx)(u.Q,{"aria-label":"Expand file tree",leadingVisual:d.ArrowLeftIcon,"data-hotkey":E.hotkey,"data-testid":"expand-file-tree-button-mobile",ref:t,onClick:_,variant:N??"invisible",className:y,children:"Files"}),R[4]=F,R[5]=A,R[6]=_,R[7]=t,R[8]=E.hotkey,R[9]=S,R[10]=N,R[11]=f):f=R[11];let O=E.hotkey,P=S&&(!F||A);R[12]!==j||R[13]!==P?(x=(0,m.$)(j,"position-relative",h,{[p]:P}),R[12]=j,R[13]=P,R[14]=x):x=R[14];let $=F?"Collapse file tree":"Expand file tree";return R[15]!==C||R[16]!==F||R[17]!==_||R[18]!==t||R[19]!==x||R[20]!==$||R[21]!==E.hotkey||R[22]!==L||R[23]!==N?(v=(0,n.jsx)(s.L,{dataHotkey:O,className:x,expanded:F,alignment:"left",ariaLabel:$,tooltipDirection:L,testid:"file-tree-button",ariaControls:C,ref:t,variant:N,onToggleExpanded:_}),R[15]=C,R[16]=F,R[17]=_,R[18]=t,R[19]=x,R[20]=$,R[21]=E.hotkey,R[22]=L,R[23]=N,R[24]=v):v=R[24],R[25]!==_||R[26]!==k||R[27]!==E.hotkey?(w=(0,n.jsx)(i._,{buttonFocusId:k,buttonHotkey:E.hotkey,onButtonClick:_,onlyAddHotkeyScopeButton:!0}),R[25]=_,R[26]=k,R[27]=E.hotkey,R[28]=w):w=R[28],R[29]!==w||R[30]!==f||R[31]!==v?(b=(0,n.jsxs)(n.Fragment,{children:[f,v,w]}),R[29]=w,R[30]=f,R[31]=v,R[32]=b):b=R[32],b}:({expanded:e,onToggleExpanded:t,className:a,ariaControls:l,textAreaId:r,useFilesButtonBreakpoint:f=!0,variant:x,getTooltipDirection:g},v)=>{let{toggleTreeShortcut:w}=(0,o.wk)(),[b]=(0,c.I)(()=>!1,!0,[]),R=g?.(e)??"se";return(0,n.jsxs)(n.Fragment,{children:[f&&(!e||b)&&(0,n.jsx)(u.Q,{"aria-label":"Expand file tree",leadingVisual:d.ArrowLeftIcon,"data-hotkey":w.hotkey,"data-testid":"expand-file-tree-button-mobile",ref:v,onClick:t,variant:x??"invisible",className:y,children:"Files"}),(0,n.jsx)(s.L,{dataHotkey:w.hotkey,className:(0,m.$)(a,"position-relative",h,{[p]:f&&(!e||b)}),expanded:e,alignment:"left",ariaLabel:e?"Collapse file tree":"Expand file tree",tooltipDirection:R,testid:"file-tree-button",ariaControls:l,ref:v,variant:x,onToggleExpanded:t}),(0,n.jsx)(i._,{buttonFocusId:r,buttonHotkey:w.hotkey,onButtonClick:t,onlyAddHotkeyScopeButton:!0})]})});function g(){return!1}x.displayName="ExpandFileTreeButton";var v=a(6665);let w=(0,l.th)()?function(e){let t,a,l=(0,r.c)(8),{inputRef:s,onFindFilesShortcut:c,textAreaId:d}=e,{sendRepoKeyDownEvent:u}=(0,v.T)(),{findFilesShortcut:m}=(0,o.wk)();return l[0]!==s||l[1]!==c||l[2]!==u?(t=()=>{c?.(),s?.current?.focus(),u("GO_TO_FILE")},l[0]=s,l[1]=c,l[2]=u,l[3]=t):t=l[3],l[4]!==m.hotkey||l[5]!==t||l[6]!==d?(a=(0,n.jsx)(i._,{buttonFocusId:d,buttonHotkey:m.hotkey,onButtonClick:t}),l[4]=m.hotkey,l[5]=t,l[6]=d,l[7]=a):a=l[7],a}:function({inputRef:e,onFindFilesShortcut:t,textAreaId:a}){let{sendRepoKeyDownEvent:l}=(0,v.T)(),{findFilesShortcut:r}=(0,o.wk)();return(0,n.jsx)(i._,{buttonFocusId:a,buttonHotkey:r.hotkey,onButtonClick:()=>{t?.(),e?.current?.focus(),l("GO_TO_FILE")}})};try{w.displayName||(w.displayName="FindFilesShortcut")}catch{}var b=a(6873),R=a(93753),F=a(31078),_=a(46209),j=a(19189),C=a(78314),k=a(53419),I=a(25407),N=a(66108),T=a(94195),S=a(64830),E=a(96379),A=a(69676),L=a(73783),O=a(26108),P=a(87555),$=a(79080),B=a(10095),D=a(12683),V=a(27104);let G=(0,f.createContext)({knownFolders:new Map,dispatchKnownFolders:()=>{}}),z=(0,l.th)()?function(){return(0,f.useContext)(G)}:function(){return(0,f.useContext)(G)};try{G.displayName||(G.displayName="FileTreeContext")}catch{}let H="ReposFileTreePane-module__HideTree--IyYTf";var W=a(53552),M=a(25556),U=a(34535),K=a(96459),q=a(60569),Z=a(69726);let X=(0,f.createContext)({}),Y=(0,l.th)()?function(e){let t,a,l,i,o,s=(0,r.c)(6),{children:c}=e,d=(0,f.useRef)(!1),u=(0,f.useRef)(!1),m=(0,f.useRef)(!0);s[0]===Symbol.for("react.memo_cache_sentinel")?(t=e=>{d.current=e},s[0]=t):t=s[0];let h=t;s[1]===Symbol.for("react.memo_cache_sentinel")?(a=e=>{u.current=e},s[1]=a):a=s[1];let p=a;s[2]===Symbol.for("react.memo_cache_sentinel")?(l=e=>{m.current=e},s[2]=l):l=s[2];let y=l;s[3]===Symbol.for("react.memo_cache_sentinel")?(i={expandAllFolders:d,refreshTree:u,shouldFetchFolders:m,setExpandAllFolders:h,setRefreshTree:p,setShouldFetchFolders:y},s[3]=i):i=s[3];let x=i;return s[4]!==c?(o=(0,n.jsx)(X.Provider,{value:x,children:c}),s[4]=c,s[5]=o):o=s[5],o}:function({children:e}){let t=(0,f.useRef)(!1),a=(0,f.useRef)(!1),l=(0,f.useRef)(!0),r=(0,f.useCallback)(e=>{t.current=e},[]),i=(0,f.useCallback)(e=>{a.current=e},[]),o=(0,f.useCallback)(e=>{l.current=e},[]),s=(0,f.useMemo)(()=>({expandAllFolders:t,refreshTree:a,shouldFetchFolders:l,setExpandAllFolders:r,setRefreshTree:i,setShouldFetchFolders:o}),[r,i,o]);return(0,n.jsx)(X.Provider,{value:s,children:e})},Q=(0,l.th)()?function(){return(0,f.useContext)(X)}:function(){return(0,f.useContext)(X)};try{X.displayName||(X.displayName="FileTreeControlContext")}catch{}try{Y.displayName||(Y.displayName="FileTreeControlProvider")}catch{}var J=a(52870);function ee(e,t,a){let n=[];for(let l of t)if(l.startsWith(e)){let t=l.slice(e.length+1),r=t.indexOf("/"),i=r>0?t.slice(0,r):t,o=`${e}/${i}`;if(a&&a.some(e=>e.path===o))continue;let s={items:[],data:{contentType:o===l?"file":"directory",name:i,path:o,isClientOnly:!0}};n.push(s)}return n}function et(e,t,a){e.data.name=e.data.name.slice(e.data.name.lastIndexOf("/")+1,e.data.name.length);let n=t.name.slice(0,t.name.lastIndexOf("/")),l=n.indexOf("/")>-1,r={path:t.path.slice(0,t.path.lastIndexOf("/")),contentType:t.contentType,name:n,hasSimplifiedPath:l},i={items:[e],data:r};return(a.set(r.path,i),l)?et(i,{...r},a):i}let ea="ReposFileTreeView-module__Octicon--XcIsb",en="ReposFileTreeView-module__Box_2--bCLXn";function el(e,t,a,n){if(!e)return{newRootItems:a,rootItemsUpdated:!1};let l=!!e[""]&&er("",t,a,e[""].items);for(let l of(n?.(a),Object.keys(e).sort()))if(l){let a=t.get(l);a&&(er(l,t,a.items,e[l].items,n),a.data.totalCount=e[l].totalCount)}return{newRootItems:a,rootItemsUpdated:l}}function er(e,t,a,n,l){let r=!1;for(let i of n){let n=e?`${e}/${i.name}`:i.name;if(!t.get(n)){let e={items:[],data:{...i}};if(t.set(n,e),i.hasSimplifiedPath){let n=et(e,i,t),o=a.findIndex(e=>e.data.path===n.data.path);-1!==o?n.items.length>a[o].items.length&&(a[o]=n,r=!0):(a.push(n),l?.(a))}else a.push(e),l?.(a)}}return r}let ei=(0,l.th)()?function(e){let t,a,l,i,o,s,c,u,m,h,p,y,x=(0,r.c)(43),{isActive:g,file:w,onItemSelected:b,getItemUrl:R,selectedItemRef:F,navigate:_,onRenderRow:j,getFileTrailingVisual:C,getFileIcon:k}=e,{sendRepoClickEvent:I}=(0,v.T)(),N=f.useRef(null);x[0]===Symbol.for("react.memo_cache_sentinel")?(t={focusRowRef:N,mouseRowRef:N},x[0]=t):t=x[0];let T=(0,U.Z)(t),S="submodule"===w.data.contentType;x[1]!==w.data||x[2]!==C?(a=C?.(w.data),x[1]=w.data,x[2]=C,x[3]=a):a=x[3];let E=a;x[4]!==w.data||x[5]!==R||x[6]!==g||x[7]!==S||x[8]!==_||x[9]!==b||x[10]!==I?(l=e=>{S?(e.preventDefault(),w.data.submoduleUrl&&(window.location.href=w.data.submoduleUrl)):e.metaKey||e.ctrlKey||1===e.button?(window.open(R(w.data),"_blank"),e.preventDefault()):g?e.preventDefault():(b?.(),I("FILES_TREE.ITEM",{item_path:w.data.path}),_(R(w.data)),e.stopPropagation())},x[4]=w.data,x[5]=R,x[6]=g,x[7]=S,x[8]=_,x[9]=b,x[10]=I,x[11]=l):l=x[11];let A=l;j?.();let L=`${w.data.path}-item`,O=g?void 0:"auto 2rem";x[12]!==w.data||x[13]!==k||x[14]!==S?(i=k?k(w.data):S?(0,n.jsx)(d.FileSubmoduleIcon,{}):(0,n.jsx)(d.FileIcon,{}),x[12]=w.data,x[13]=k,x[14]=S,x[15]=i):i=x[15],x[16]!==i?(o=(0,n.jsx)(q.G.LeadingVisual,{children:i}),x[16]=i,x[17]=o):o=x[17];let P=S?"var(--fgColor-accent, var(--color-accent-fg))":void 0;return x[18]!==P?(s={color:P},x[18]=P,x[19]=s):s=x[19],x[20]!==w.data.name||x[21]!==F||x[22]!==s?(c=(0,n.jsx)("span",{ref:F,style:s,children:w.data.name}),x[20]=w.data.name,x[21]=F,x[22]=s,x[23]=c):c=x[23],x[24]!==w.data.name||x[25]!==T?(u=T&&(0,n.jsx)(M.m,{"data-testid":`${w.data.name}-item-tooltip`,id:`${w.data.name}-item-tooltip`,contentRef:N,"aria-label":w.data.name,open:!0,direction:"ne"}),x[24]=w.data.name,x[25]=T,x[26]=u):u=x[26],x[27]!==c||x[28]!==u?(m=(0,n.jsxs)(n.Fragment,{children:[c,u]}),x[27]=c,x[28]=u,x[29]=m):m=x[29],x[30]!==E?(h=!!E?.screenReaderText&&(0,n.jsx)("span",{className:"sr-only",children:E.screenReaderText}),x[30]=E,x[31]=h):h=x[31],x[32]!==E?(p=!!E?.trailingVisual&&(0,n.jsx)(q.G.TrailingVisual,{children:E.trailingVisual}),x[32]=E,x[33]=p):p=x[33],x[34]!==g||x[35]!==A||x[36]!==m||x[37]!==h||x[38]!==p||x[39]!==L||x[40]!==O||x[41]!==o?(y=(0,n.jsxs)(q.G.Item,{ref:N,onSelect:A,current:g,id:L,containIntrinsicSize:O,children:[o,m,h,p]}),x[34]=g,x[35]=A,x[36]=m,x[37]=h,x[38]=p,x[39]=L,x[40]=O,x[41]=o,x[42]=y):y=x[42],y}:function({isActive:e,file:t,onItemSelected:a,getItemUrl:l,selectedItemRef:r,navigate:i,onRenderRow:o,getFileTrailingVisual:s,getFileIcon:c}){let{sendRepoClickEvent:u}=(0,v.T)(),m=f.useRef(null),h=(0,U.Z)({focusRowRef:m,mouseRowRef:m}),p="submodule"===t.data.contentType,y=s?.(t.data),x=f.useCallback(n=>{p?(n.preventDefault(),t.data.submoduleUrl&&(window.location.href=t.data.submoduleUrl)):n.metaKey||n.ctrlKey||1===n.button?(window.open(l(t.data),"_blank"),n.preventDefault()):e?n.preventDefault():(a?.(),u("FILES_TREE.ITEM",{item_path:t.data.path}),i(l(t.data)),n.stopPropagation())},[t.data,l,e,p,i,a,u]);return o?.(),(0,n.jsxs)(q.G.Item,{ref:m,onSelect:x,current:e,id:`${t.data.path}-item`,containIntrinsicSize:e?void 0:"auto 2rem",children:[(0,n.jsx)(q.G.LeadingVisual,{children:c?c(t.data):p?(0,n.jsx)(d.FileSubmoduleIcon,{}):(0,n.jsx)(d.FileIcon,{})}),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("span",{ref:r,style:{color:p?"var(--fgColor-accent, var(--color-accent-fg))":void 0},children:t.data.name}),h&&(0,n.jsx)(M.m,{"data-testid":`${t.data.name}-item-tooltip`,id:`${t.data.name}-item-tooltip`,contentRef:m,"aria-label":t.data.name,open:!0,direction:"ne"})]}),!!y?.screenReaderText&&(0,n.jsx)("span",{className:"sr-only",children:y.screenReaderText}),!!y?.trailingVisual&&(0,n.jsx)(q.G.TrailingVisual,{children:y.trailingVisual})]})},eo=f.memo(ei);function es({clientOnlyFilePaths:e,directory:t,isActive:a,isAncestorOfActive:l,leadingPath:r="",onItemSelected:i,dispatchKnownFolders:o,getItemUrl:s,getFetchUrl:c,selectedItemRef:d,navigate:u,onRenderRow:m,getFileTrailingVisual:h,getFileIcon:p,navigateOnClick:y=!0}){let{expandAllFolders:x,shouldFetchFolders:g}=Q(),[w,b]=(0,f.useState)(x?.current||l),{sendRepoClickEvent:R}=(0,v.T)(),F=f.useRef(null),_=f.useRef(null),j=(0,U.Z)({focusRowRef:_,mouseRowRef:F}),[C,k,I,N,T,S,A]=function(e,t,a){let[n,l]=f.useState(e.items),[r,i]=f.useState(e.data.totalCount||0),[o,s]=f.useState(!1),[c,d]=f.useState(!1),{safeSetTimeout:u}=(0,J.A)();f.useEffect(()=>{l(e.items)},[e.items]),f.useEffect(()=>{void 0!==e.data.totalCount&&i(e.data.totalCount)},[e.data.totalCount]);let m=f.useCallback(()=>{d(!1)},[]),h=f.useCallback((e,t)=>{let a=e||[...n];l(a.slice(0,100)),u(()=>{l(a),void 0!==t&&i(t)},1)},[n,u]);return[f.useCallback(async n=>{let r=new Map;if(e.data.isClientOnly){if(n){let a=ee(e.data.path,n);for(let e of a)r.set(e.data.path,e);t({type:"add",folders:r,processingTime:0}),a.length>100?h(a,a.length):(l(a),i(a.length))}}else{let o=a(e.data);d(!1),s(!0);let c=Date.now(),u=await (0,E.lS)(`${o}?noancestors=1`);try{if(u.ok){let a=await u.json(),o=a.payload.tree.items.map(e=>{let t={items:[],data:{...e},autoExpand:"directory"===e.contentType&&1===a.payload.tree.items.length};return(r.set(e.path,t),e.hasSimplifiedPath)?et(t,e,r):t});if(n){let t=e.data.path,l=ee(t,n,a.payload.tree.items);for(let e of(o.push(...l),l))r.set(e.data.path,e)}t({type:"add",folders:r,processingTime:Date.now()-c}),e.items=o,e.data.totalCount=a.payload.tree.totalCount,o.length>100?h(o,a.payload.tree.totalCount):(l(o),i(a.payload.tree.totalCount))}else d(!0)}catch{d(!0)}}s(!1)},[a,e,t,h]),h,n,o,c,m,r]}(t,o,c),L=A-I.length,O=r?`${r}/`:"";(0,f.useEffect)(()=>{x?.current&&!w&&b(!0)},[t,x,w]);let P=f.useCallback(n=>{x?.current&&(x.current=!1),n&&!w&&!N&&!T&&(t.items.length>100?k():0!==t.items.length||a||l||g?.current===!1||C(e)),n!==w&&b(n)},[x,w,N,T,t.items.length,a,l,g,k,C,e]),$=f.useCallback(e=>{e.metaKey||e.ctrlKey||1===e.button&&y?(window.open(s(t.data),"_blank"),e.preventDefault()):a?e.preventDefault():(i?.(),R("FILES_TREE.ITEM",{item_path:t.data.path}),y?u(s(t.data)):P?.(!w),e.stopPropagation())},[t.data,s,a,w,u,y,i,P,R]);f.useEffect(()=>{l&&!w&&P?.(!0)},[l]),f.useEffect(()=>{0===t.items.length&&w?P?.(!1):!w&&t.autoExpand&&P?.(!0)},[t.items.length]);let B=f.useCallback(e=>{d&&a&&d(e),F.current=e},[d,a]);return 1===t.items.length&&"directory"===t.items[0].data.contentType?(0,n.jsx)(eu,{clientOnlyFilePaths:e,directoryItems:t.items,leadingPath:O+t.data.name,inheritsActive:a,dispatchKnownFolders:o,onItemSelected:i,selectedItemRef:d,getItemUrl:s,directoryNavigateOnClick:y,getFileTrailingVisual:h,getFileIcon:p}):(m?.(),(0,n.jsxs)(q.G.Item,{ref:_,expanded:w,onExpandedChange:P,current:a,onSelect:$,id:`${t.data.path}-item`,containIntrinsicSize:a?void 0:"auto 2rem",children:[(0,n.jsx)(q.G.LeadingVisual,{children:(0,n.jsx)(q.G.DirectoryIcon,{})}),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("span",{ref:B,children:[O,t.data.name]}),j&&(0,n.jsx)(M.m,{"data-testid":`${t.data.name}-directory-item-tooltip`,id:`${t.data.name}-directory-item-tooltip`,contentRef:_,"aria-label":`${O}${t.data.name}`,open:!0,direction:"ne"})]}),(0,n.jsx)(q.G.SubTree,{state:N?"loading":T?"error":"done",children:T?(0,n.jsx)(q.G.ErrorDialog,{onRetry:C,onDismiss:S,children:"There was an error loading the folder contents."}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(eu,{clientOnlyFilePaths:e,directoryItems:I,dispatchKnownFolders:o,onItemSelected:i,selectedItemRef:d,getItemUrl:s,directoryNavigateOnClick:y,getFileTrailingVisual:h,getFileIcon:p}),L>0&&(0,n.jsx)(ef,{message:`${L} entries not shown`})]})})]}))}let ec=f.memo(es);function ed({clientOnlyFilePaths:e,directoryItems:t,leadingPath:a,inheritsActive:l,onItemSelected:r,dispatchKnownFolders:i,selectedItemRef:o,onRenderRow:s,getItemUrl:c,getFileTrailingVisual:d,getFileIcon:u,directoryNavigateOnClick:m=!0}){let{path:h}=(0,W.eu)(),p=(0,j.Z)(),y=(0,K.Z)(),x=f.useRef(y);return(0,n.jsx)(n.Fragment,{children:t.map(t=>{let f=h===t.data.path,y=f||h.startsWith(`${t.data.path}/`);return"directory"===t.data.contentType?(0,n.jsx)(ec,{clientOnlyFilePaths:e,isActive:l||f,isAncestorOfActive:y,onItemSelected:r,leadingPath:a,directory:t,dispatchKnownFolders:i,getItemUrl:c,getFetchUrl:p.getItemUrl,selectedItemRef:y?o:void 0,navigate:x.current,onRenderRow:s,navigateOnClick:m,getFileTrailingVisual:d,getFileIcon:u,itemCount:t.items.length},t.data.name):(0,n.jsx)(eo,{onItemSelected:r,file:t,isActive:f,getItemUrl:c,selectedItemRef:f?o:void 0,navigate:x.current,onRenderRow:s,getFileTrailingVisual:d,getFileIcon:u},t.data.name)})})}let eu=f.memo(ed);function em(e){let{clientOnlyFilePaths:t,data:a,rootItems:l,setRootItems:r,fetchError:i,incompleteFileTree:o,processingTime:s,loading:c,onRenderRow:d,getItemUrl:u,getFileTrailingVisual:h,getFileIcon:p,sortDirectoryItems:y}=e,{knownFolders:x,dispatchKnownFolders:g}=z(),{refreshTree:v}=Q();f.useEffect(()=>{if(c)return;let e=new Map,t=[];v?.current||(e=new Map(x),t=l.slice());let{newRootItems:n,rootItemsUpdated:i}=el(a,e,t,y);(n.length>l.length||i||v?.current)&&r(n),(e.size>x.size||v?.current)&&g({type:"set",folders:e,processingTime:s}),v?.current&&(v.current=!1)},[a,c]);let w=f.useCallback(e=>{1===e.button&&e.preventDefault()},[]);return(0,n.jsx)(n.Fragment,{children:(0,n.jsx)("div",{onMouseDown:w,className:(0,m.$)(e.className,"ReposFileTreeView-module__Box--bDodO"),"data-testid":"repos-file-tree-container",children:c?(0,n.jsx)("div",{className:"ReposFileTreeView-module__Box_1--Q_A5H",children:(0,n.jsx)(Z.A,{"aria-label":"Loading file tree"})}):(0,n.jsx)("nav",{"aria-label":"File Tree Navigation",children:(0,n.jsxs)(q.G,{"aria-label":"Files",children:[i&&(0,n.jsx)(ef,{message:"Some files could not be loaded."}),o&&(0,n.jsx)(ef,{message:"Sign in to see the full file tree."}),(0,n.jsx)(eu,{clientOnlyFilePaths:t,directoryItems:l,onItemSelected:e.onItemSelected,dispatchKnownFolders:g,selectedItemRef:e.selectedItemRef,onRenderRow:d,directoryNavigateOnClick:e.directoryNavigateOnClick,getItemUrl:u,getFileTrailingVisual:h,getFileIcon:p})]})})})})}let ef=(0,l.th)()?function(e){let t,a,l=(0,r.c)(3),{message:i}=e,o=i||"Couldn't load.";return l[0]===Symbol.for("react.memo_cache_sentinel")?(t=(0,n.jsx)(q.G.LeadingVisual,{children:(0,n.jsx)(B.A,{icon:d.AlertFillIcon,className:ea})}),l[0]=t):t=l[0],l[1]!==o?(a=(0,n.jsxs)(q.G.Item,{id:"error-tree-row",children:[t,(0,n.jsx)("div",{className:en,children:o})]}),l[1]=o,l[2]=a):a=l[2],a}:function({message:e}){return(0,n.jsxs)(q.G.Item,{id:"error-tree-row",children:[(0,n.jsx)(q.G.LeadingVisual,{children:(0,n.jsx)(B.A,{icon:d.AlertFillIcon,className:ea})}),(0,n.jsx)("div",{className:en,children:e||"Couldn't load."})]})};try{ei.displayName||(ei.displayName="WrappedFileTreeRow")}catch{}try{eo.displayName||(eo.displayName="FileTreeRow")}catch{}try{es.displayName||(es.displayName="WrappedDirectoryTreeRow")}catch{}try{ec.displayName||(ec.displayName="DirectoryTreeRow")}catch{}try{ed.displayName||(ed.displayName="WrappedDirectoryContents")}catch{}try{eu.displayName||(eu.displayName="DirectoryContents")}catch{}try{em.displayName||(em.displayName="ReposFileTreeView")}catch{}try{ef.displayName||(ef.displayName="ErrorTreeRow")}catch{}var eh=a(23451);let ep="SearchButton-module__IconButton--kxA3Q",ey=(0,l.th)()?function(e){let t,a,l,s,c,u=(0,r.c)(16),{sx:m,onClick:f,textAreaId:h}=e,{searchShortcut:p}=(0,o.wk)();return u[0]!==f?(t=e=>{f?.(),(0,eh.Z)({retainScrollPosition:!0,returnTarget:e.target.closest("button")})},u[0]=f,u[1]=t):t=u[1],u[2]!==p.hotkey||u[3]!==m||u[4]!==t?(a=(0,n.jsx)(D.K0,{"aria-label":"Search this repository",tooltipDirection:"nw",icon:d.SearchIcon,"data-hotkey":p.hotkey,sx:m,size:"medium",onClick:t,className:ep}),u[2]=p.hotkey,u[3]=m,u[4]=t,u[5]=a):a=u[5],u[6]!==f||u[7]!==h?(l=()=>{let e=document.getElementById(h);f?.(),(0,eh.Z)({retainScrollPosition:!0,returnTarget:e??void 0})},u[6]=f,u[7]=h,u[8]=l):l=u[8],u[9]!==p.hotkey||u[10]!==l||u[11]!==h?(s=(0,n.jsx)(i._,{buttonFocusId:h,buttonHotkey:p.hotkey,onButtonClick:l,onlyAddHotkeyScopeButton:!0}),u[9]=p.hotkey,u[10]=l,u[11]=h,u[12]=s):s=u[12],u[13]!==a||u[14]!==s?(c=(0,n.jsxs)(n.Fragment,{children:[a,s]}),u[13]=a,u[14]=s,u[15]=c):c=u[15],c}:function({sx:e,onClick:t,textAreaId:a}){let{searchShortcut:l}=(0,o.wk)();return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(D.K0,{"aria-label":"Search this repository",tooltipDirection:"nw",icon:d.SearchIcon,"data-hotkey":l.hotkey,sx:e,size:"medium",onClick:e=>{t?.(),(0,eh.Z)({retainScrollPosition:!0,returnTarget:e.target.closest("button")})},className:ep}),(0,n.jsx)(i._,{buttonFocusId:a,buttonHotkey:l.hotkey,onButtonClick:()=>{let e=document.getElementById(a);t?.(),(0,eh.Z)({retainScrollPosition:!0,returnTarget:e??void 0})},onlyAddHotkeyScopeButton:!0})]})};try{ey.displayName||(ey.displayName="SearchButton")}catch{}let ex=T.Gy.xxxlarge;function eg({clientOnlyFilePaths:e,collapseTree:t,showTree:a,fileTree:l,treeToggleElement:r,treeToggleRef:i,onItemSelected:o,processingTime:s,searchBoxRef:u,repo:h,path:p,refInfo:y,isFilePath:x,foldersToFetch:g,incompleteFileTree:v,id:k,onFindFilesShortcut:z,textAreaId:W,getItemUrlOverride:M,headerClassName:U,paneClassName:K,paneContentsClassName:q,treeContainerClassName:Z,findFileWorkerPath:X,headerContent:Y,getFileTrailingVisual:Q,getFileIcon:J,sortDirectoryItems:ee,showFindFile:et=!0,directoryNavigateOnClick:ea=!0,showRefSelectorRow:en=!0,paneResizable:er=!0}){if(et&&void 0===X)throw Error("findFileWorkerPath must be provided when showFindFile is true");let{openPanel:ei}=(0,_.Ak)(),[eo,es]=f.useState(g.length>0),[ec,ed]=f.useState(!1),eu=f.useRef([]),ef=f.useRef(null),eh=f.useRef(!1),ep=f.useRef(!1),eg=f.useRef(null),{query:eb}=(0,F.JS)(),eR=f.useRef(eb);eR.current=eb;let{codeCenterOption:eF}=(0,S.ud)(),e_=f.useRef(ei),[ej]=(0,c.I)(()=>!1,!0,[]),{getItemUrl:eC}=(0,j.Z)(),ek=M||eC,{defaultBranch:eI}=(0,C.t)(),eN=[],eT=new Map,eS=f.useRef(eo);!eS.current&&l&&(eN=el(l,eT,[],ee).newRootItems),eS.current=!0;let[eE,eA]=f.useReducer(ev,eT),[eL,eO]=f.useState(eN);f.useEffect(()=>{a&&(!eb||window.innerWidth>=T.Gy.large)||(eg.current=null)},[a,eb]),f.useEffect(()=>{ei&&e_.current!==ei&&window.innerWidth<ex&&t({setPreference:!1}),e_.current=ei},[t,ei]);let eP=f.useCallback(async e=>{let t=eC({contentType:"directory",path:e,name:e});try{let a=await (0,E.lS)(`${t}?noancestors=1`);if(a.ok){let t=await a.json(),n={items:t.payload.tree.items,totalCount:t.payload.tree.totalCount};l[e]=n}else ed(!0)}catch{ed(!0)}eu.current.push(e),eu.current.length===g.length&&es(!1)},[l,g.length,eC]);f.useEffect(()=>{if(v)es(!1);else if(g&&!eh.current)for(let e of g)eP(e);eh.current=!0},[eP,g,v,eE.size]);let e$=f.useCallback(e=>{a&&(!eR.current||window.innerWidth>=T.Gy.large)&&ef.current&&e&&(0,A.Rt)(e,ef.current,{endMargin:window.innerHeight/2,startMargin:window.innerHeight/2,behavior:"auto"})},[a]),eB=f.useCallback(e=>{e&&ep.current?ep.current=!1:eg.current!==e&&e$(e),eg.current=e},[e$]),eD=f.useCallback(e=>{ef.current=e,window.innerWidth>=ex&&e$(eg.current)},[e$]),eV=f.useCallback(e=>{e&&e$(eg.current)},[e$]),{screenSize:eG}=(0,T.lm)(),ez=!ej&&(ei&&eG<ex||eG<T.Gy.xlarge)&&eG>=T.Gy.large,eH=f.useCallback(()=>{ez||o(),ep.current=!0},[o,ez]),eW=x?p.substring(0,p.lastIndexOf("/")):p,eM=(0,f.useMemo)(()=>({knownFolders:eE,dispatchKnownFolders:eA}),[eE]),eU=f.useMemo(()=>ej?null:(0,V.KF)(),[ej]),eK=f.useCallback(()=>{window.innerWidth>T.Gy.large&&window.innerWidth<T.Gy.xxxxlarge&&t({setPreference:!1})},[t]),eq=y.name===eI,eZ=(0,n.jsxs)(D.az,{id:k,sx:{maxHeight:"100%",height:"100%",display:"flex",flexDirection:"column","@media screen and (max-width: 768px)":ej?{display:"none"}:void 0,"@media screen and (min-width: 768px)":{maxHeight:"100vh",height:"100vh"}},className:q,children:[(0,n.jsxs)("div",{className:(0,m.$)(U,"ReposFileTreePane-module__Box_1--ZT_4S"),children:[Y,en&&(0,n.jsxs)("div",{className:"ReposFileTreePane-module__Box_2--RgzGf",children:[(0,n.jsx)("div",{className:"ReposFileTreePane-module__Box_3--XDLn8",children:eq||void 0===y.fileExistsOnDefault?(0,n.jsx)(R.R,{buttonClassName:"react-repos-tree-pane-ref-selector width-full ref-selector-class",allowResizing:!0}):(0,n.jsxs)(L.A,{className:"ReposFileTreePane-module__FullWidthButtonGroup--avF6A",children:[y.fileExistsOnDefault?(0,n.jsx)(O.K,{icon:d.ChevronLeftIcon,"aria-label":"View file on default branch",as:N.N,to:(0,I.IO9)({repo:h,commitish:eI,action:"blob",path:p})}):(0,n.jsx)(O.K,{icon:d.ChevronLeftIcon,"aria-label":"View file on default branch",description:"File does not exist on default branch","aria-disabled":!0,inactive:!0}),(0,n.jsx)(R.R,{buttonClassName:"react-repos-tree-pane-ref-selector width-full ref-selector-class",allowResizing:!0})]})}),(0,n.jsxs)("div",{className:"ReposFileTreePane-module__Box_4--TLAAU",children:[y.canEdit&&(0,n.jsx)(O.K,{"aria-label":"Add file",tooltipDirection:"n",as:N.N,icon:d.PlusIcon,to:(0,I.IO9)({repo:h,path:eW,commitish:y.name,action:"new"}),onClick:eH,className:"ReposFileTreePane-module__IconButton--fpuBk"}),(0,n.jsx)(ey,{sx:y.canEdit?{borderTopLeftRadius:0,borderBottomLeftRadius:0}:void 0,onClick:eK,textAreaId:W})]})]})]}),y.currentOid&&et&&X&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(b.default,{commitOid:y.currentOid,findFileWorkerPath:X,onItemSelected:o,searchBoxRef:u,sx:{"@media screen and (max-width: 768px)":ej?{display:"none"}:void 0},className:"ReposFileTreePane-module__FileResultsList--YEf_n"}),(0,n.jsx)(w,{inputRef:u,onFindFilesShortcut:z,textAreaId:W})]}),(0,n.jsx)(ew,{scrollingRef:ef}),(0,n.jsxs)(D.az,{ref:eD,sx:{"@media screen and (max-width: 768px)":ej?{display:"none"}:void 0},className:"ReposFileTreePane-module__Box_5--cckih",children:[ej?y.currentOid&&(0,n.jsx)("div",{className:eb?"react-tree-show-tree-items-on-large-screen":"react-tree-show-tree-items",children:(0,n.jsx)(em,{clientOnlyFilePaths:e,data:l,rootItems:eL,selectedItemRef:eB,setRootItems:eO,onItemSelected:eH,processingTime:s,loading:eo,fetchError:ec,incompleteFileTree:v,directoryNavigateOnClick:ea,getItemUrl:ek,className:Z,getFileTrailingVisual:Q,getFileIcon:J,sortDirectoryItems:ee})}):eU&&(0,n.jsx)(V.bL,{node:eU}),!y.currentOid&&!h.isEmpty&&(0,n.jsxs)("div",{className:"ReposFileTreePane-module__Box_6--zVfxO",children:[(0,n.jsx)(B.A,{icon:d.AlertFillIcon}),"\xa0Ref is invalid"]})]})]});return(0,n.jsxs)(G.Provider,{value:eM,children:[eU&&(0,n.jsx)(V.oj,{node:eU,children:y.currentOid&&(0,n.jsx)("div",{className:eb?"react-tree-show-tree-items-on-large-screen":"react-tree-show-tree-items",children:(0,n.jsx)(em,{clientOnlyFilePaths:e,data:l,directoryNavigateOnClick:ea,rootItems:eL,selectedItemRef:eB,setRootItems:eO,onItemSelected:eH,processingTime:s,loading:eo,fetchError:ec,incompleteFileTree:v,getItemUrl:ek,className:Z,getFileTrailingVisual:Q,getFileIcon:J,sortDirectoryItems:ee})})}),!a&&eF.enabled&&r&&(0,n.jsx)(D.az,{sx:{"@media screen and (min-width: 1360px)":{display:"block"}},className:"ReposFileTreePane-module__Box_7--v7doA",children:r}),(0,n.jsx)(P.O7.Pane,{position:"start",sticky:!0,padding:"none",width:"large",resizable:!!er,widthStorageKey:"codeView.tree-pane-width",divider:{regular:"none",narrow:"none"},className:(0,m.$)("ReposFileTreePane-module__Pane--D26Sw",!a&&H,ez||ei?"ReposFileTreePane-module__HidePaneWithTreeOverlay--CJn2n":"ReposFileTreePane-module__HidePane--a07q8",K),children:a&&!ez&&(0,n.jsx)("div",{className:ej?ei?"react-tree-pane-contents-3-panel":"react-tree-pane-contents":void 0,children:eZ})}),a&&ez&&e_.current===ei&&(0,n.jsx)($.Ay,{className:(0,m.$)(ej?ei?"react-tree-pane-overlay-3-panel":"react-tree-pane-overlay":void 0,"ReposFileTreePane-module__Overlay--ynIDA",!a&&H),ref:eV,returnFocusRef:i,onClickOutside:eK,onEscape:eK,top:0,position:"fixed",children:(0,n.jsx)(n.Fragment,{children:eZ})})]})}function ev(e,t){switch(t.type){case"set":{let a=e?.size>0;return(0,k.BI)("file-tree",{"fetch-count":a?t.folders.size-e.size:t.folders.size,"file-count":t.folders.size,"nav-type":a?"soft":"hard","processing-time":t.processingTime}),t.folders}case"add":{let a=new Map([...e,...t.folders]);return(0,k.BI)("file-tree",{"fetch-count":t.folders.size,"file-count":a.size,"nav-type":"fetch","processing-time":t.processingTime}),a}default:throw Error(`Unknown action type: ${t.type}`)}}function ew({scrollingRef:e}){let[t,a]=f.useState(e.current&&e.current.scrollTop>0);return f.useEffect(()=>{if(e.current){let t=e.current,n=()=>{t&&t.scrollTop>0?a(!0):a(!1)};return t.addEventListener("scroll",n),()=>{t.removeEventListener("scroll",n)}}},[e]),t?(0,n.jsx)("div",{className:"ReposFileTreePane-module__Box_8--KVzCi"}):null}try{eg.displayName||(eg.displayName="ReposFileTreePane")}catch{}try{ew.displayName||(ew.displayName="TreeBorder")}catch{}var eb=a(76492),eR=a(31315),eF=a(35898),e_=a(71315),ej=a(88431),eC=a(81960);function ek(e,t,a,l,r,i="fileTreeExpanded",o){let{sendRepoClickEvent:s}=(0,v.T)(),c=(0,eF.i)(),d=i?(0,eR.Ri)(i):void 0,u=void 0===e_.XC,m=!c&&d&&"false"!==d.value||c&&a;void 0===m&&(m=!1);let h=(0,f.useRef)(null),p=(0,f.useRef)(null),{screenSize:y}=(0,T.lm)(),[g,w]=(0,f.useState)(m),b=(0,f.useRef)(m),R=(0,f.useRef)(!1),F=(0,f.useRef)(!1),_=(0,f.useCallback)(()=>!(t.current&&window.innerWidth>=ex||!t.current&&window.innerWidth>=T.Gy.xlarge),[t]);(0,ej.N)(()=>{let e=_();e||(R.current=!1),w((0,eb.q)()&&y<T.Gy.large&&!F.current||(!e||R.current)&&(c&&g||!c&&d?.value!=="false"))},[R,d?.value,y,t,_,c]),(0,ej.N)(()=>{let e=!t.current&&window.innerWidth<T.Gy.xlarge,a=!t.current&&window.innerWidth>=T.Gy.xlarge;e&&b.current&&!(0,eb.q)()&&g&&w(!1),a&&b.current&&!g&&w(!0)},[t,y]),(0,ej.N)(()=>{let e=t.current&&window.innerWidth<ex,a=t.current&&window.innerWidth>=ex;e&&b.current&&!(0,eb.q)()&&g&&w(!1),a&&b.current&&!g&&w(!0)},[t]);let j=(0,f.useCallback)(e=>{if(w(!0),_()&&(R.current=!0),e?.setPreference&&(r?.(!0),b.current=!0,i)){let e=new Date(Date.now()+2592e6).toUTCString();(0,eR.TV)(i,"true",e)}e?.focus==="toggleButton"?requestAnimationFrame(()=>h.current?.focus()):e?.focus==="search"&&requestAnimationFrame(()=>p.current?.focus())},[i,2592e6,_,r]),C=(0,f.useCallback)(e=>{if(w(!1),R.current=!1,F.current=!0,e?.setPreference&&(r?.(!1),b.current=!1,i)){let e=new Date(Date.now()+2592e6).toUTCString();(0,eR.TV)(i,"false",e)}e?.focus==="toggleButton"&&requestAnimationFrame(()=>h.current?.focus())},[i,2592e6,r]),k=(0,f.useCallback)(e=>e&&window.innerWidth>=ex||!t.current&&window.innerWidth>=T.Gy.xlarge,[t]),I=(0,f.useMemo)(()=>(0,n.jsx)(eC.A,{as:"h2",className:"use-tree-pane-module__Heading--iI_ad",children:(0,n.jsx)(x,{expanded:g,ariaControls:e,onToggleExpanded:()=>{s(g?"FILES_TREE.HIDE":"FILES_TREE.SHOW"),g?C({focus:"toggleButton",setPreference:k(t.current)}):j({focus:"toggleButton",setPreference:k(t.current)})},className:void 0!==d||g||u?void 0:"react-tree-toggle-button-with-indicator",ref:h,textAreaId:l,...o})}),[g,e,d,u,l,o,s,C,k,t,j]);return{isTreeExpanded:g,expandTree:j,collapseTree:C,treeToggleElement:I,treeToggleRef:h,searchBoxRef:p}}},23451:(e,t,a)=>{a.d(t,{Z:()=>n});function n({appendQuery:e,retainScrollPosition:t,returnTarget:a}){window.dispatchEvent(new CustomEvent("blackbird_monolith_append_and_focus_input",{detail:{appendQuery:e,retainScrollPosition:t,returnTarget:a}}))}},31315:(e,t,a)=>{function n(e){return l(e)[0]}function l(e){let t=[];for(let a of function(){try{return document.cookie.split(";")}catch{return[]}}()){let[n,l]=a.trim().split("=");e===n&&void 0!==l&&t.push({key:n,value:l})}return t}function r(e,t,a=null,n=!1,l="lax"){let i=document.domain;if(null==i)throw Error("Unable to get document domain");i.endsWith(".github.com")&&(i="github.com");let o="https:"===location.protocol?"; secure":"",s=a?`; expires=${a}`:"";!1===n&&(i=`.${i}`);try{document.cookie=`${e}=${t}; path=/; domain=${i}${s}${o}; samesite=${l}`}catch{}}function i(e,t=!1){let a=document.domain;if(null==a)throw Error("Unable to get document domain");a.endsWith(".github.com")&&(a="github.com");let n=new Date(Date.now()-1).toUTCString(),l="https:"===location.protocol?"; secure":"",r=`; expires=${n}`;!1===t&&(a=`.${a}`);try{document.cookie=`${e}=''; path=/; domain=${a}${r}${l}`}catch{}}a.d(t,{OR:()=>l,Ri:()=>n,TV:()=>r,Yj:()=>i})},46209:(e,t,a)=>{a.d(t,{Ak:()=>m,cD:()=>u,iK:()=>d});var n=a(74848),l=a(41617),r=a(35898),i=a(82075),o=a(94195),s=a(96540);let c=(0,i.A)("localStorage"),d=(0,s.createContext)({openPanel:void 0,setOpenPanel:()=>void 0});function u({children:e,payload:t,openPanelRef:a}){let i="blame"in t,u=(0,l.Hf)(t),m=(0,r.i)(),f=(0,s.useRef)(void 0),[h,p]=(0,s.useState)(()=>{let e=c.getItem("codeNavOpen");if(!m&&""!==e&&null!==e||m&&t.symbolsExpanded)return"codeNav"}),y=(i||u)&&"codeNav"===h?void 0:h;s.useEffect(()=>{a.current=y},[y,a]);let x=(0,s.useCallback)((e,t)=>{p(a=>(a&&f.current&&f.current.focus(),f.current=t,i||u&&"codeNav"===e?void 0:e))},[i,u]);!function(e){let{screenSize:t}=(0,o.lm)(),a=(0,s.useRef)(t);(0,s.useEffect)(()=>{let n=a.current>=o.Gy.large,l=a.current===t;t<o.Gy.large&&(n||l)&&e(void 0),a.current=t},[t,e])}(x);let g=(0,s.useMemo)(()=>({openPanel:y,setOpenPanel:x}),[y,x]);return(0,n.jsx)(d.Provider,{value:g,children:e})}function m(){return(0,s.useContext)(d)}try{d.displayName||(d.displayName="OpenPanelContext")}catch{}try{u.displayName||(u.displayName="OpenPanelProvider")}catch{}},52475:(e,t,a)=>{a.d(t,{_S:()=>r,cB:()=>o,cW:()=>i});var n=a(53627),l=a(71315);let r=()=>{let e=(0,n.JV)().appId;return e&&"rails"!==e?e:crypto.randomUUID()},i=e=>{(0,n.C3)({appId:e})},o=()=>{let e=document.querySelector("react-app")||document.querySelector("projects-v2");return e?.uuid||"rails"};l.cg?.addEventListener("hashchange",()=>{(0,n.C3)({appId:o()})},!0)},64830:(e,t,a)=>{a.d(t,{T2:()=>c,cp:()=>h,ud:()=>y});var n=a(74848),l=a(21728),r=a(82075),i=a(96540);let o=(0,r.A)("localStorage"),s="codeView.codeFolding",c="codeView.codeWrapping",d="codeView.centerView",u="codeView.openSymbolsOnClick",m=new Map([[s,"Show code folding buttons"],[c,"Wrap lines"],[d,"Center content"],[u,"Open symbols on click"]]),f=(0,i.createContext)({codeFoldingOption:{},codeWrappingOption:{},codeCenterOption:{},openSymbolsOption:{}}),h=e=>{let t,a,r=(0,l.c)(8),{children:i}=e,o=p(s,!0),m=p(c,!1),h=p(d,!1),y=p(u,!0);r[0]!==h||r[1]!==o||r[2]!==m||r[3]!==y?(t={codeFoldingOption:o,codeWrappingOption:m,codeCenterOption:h,openSymbolsOption:y},r[0]=h,r[1]=o,r[2]=m,r[3]=y,r[4]=t):t=r[4];let x=t;return r[5]!==i||r[6]!==x?(a=(0,n.jsx)(f.Provider,{value:x,children:i}),r[5]=i,r[6]=x,r[7]=a):a=r[7],a};function p(e,t){let a,n,r,s,c=(0,l.c)(11);c[0]!==e?(a=o.getItem(e),c[0]=e,c[1]=a):a=c[1];let d=a;c[2]!==t||c[3]!==d?(n=()=>d?"true"===d:t,c[2]=t,c[3]=d,c[4]=n):n=c[4];let[u,f]=(0,i.useState)(n);c[5]!==e?(r=m.get(e)||"",c[5]=e,c[6]=r):r=c[6];let h=r;return c[7]!==u||c[8]!==h||c[9]!==e?(s={name:e,enabled:u,setEnabled:f,label:h},c[7]=u,c[8]=h,c[9]=e,c[10]=s):s=c[10],s}function y(){return(0,i.useContext)(f)}try{f.displayName||(f.displayName="CodeViewOptionsContext")}catch{}try{h.displayName||(h.displayName="CodeViewOptionsProvider")}catch{}},76492:(e,t,a)=>{a.d(t,{Z:()=>m,q:()=>f});var n=a(74848),l=a(70170),r=a(37272),i=a(6665),o=a(71315),s=a(38621),c=a(12683),d=a(96540),u=a(34164);let m=d.forwardRef(({ariaActiveDescendant:e,ariaControls:t,ariaExpanded:a,ariaHasPopup:o,onBlur:m,onFocus:h,onKeyDown:p,onPreload:y,onSearch:x,query:g,sx:v,className:w},b)=>{let{sendRepoClickEvent:R}=(0,i.T)(),[F,_]=d.useState(g),j=d.useRef((0,l.s)(e=>x(e),250));d.useEffect(()=>{_(g)},[g]);let C=g?(0,n.jsx)(c.ks.Action,{onClick:()=>{R("FILE_TREE.CANCEL_SEARCH"),x("")},icon:s.XCircleFillIcon,"aria-label":"Clear",className:"fgColor-muted"}):void 0;return(0,n.jsx)(c.ks,{autoFocus:f(),ref:b,value:F,onKeyDown:p,onChange:e=>{_(e.target.value),y(),j.current(e.target.value)},sx:v,className:(0,u.$)("d-flex",w),"aria-label":"Go to file","aria-activedescendant":e,role:o?"combobox":void 0,"aria-controls":t,"aria-expanded":a,"aria-haspopup":o?"dialog":void 0,autoCorrect:"off",spellCheck:"false",placeholder:"Go to file",leadingVisual:s.SearchIcon,trailingAction:C,trailingVisual:C?void 0:()=>(0,n.jsx)(r.E,{children:(0,n.jsx)("kbd",{children:"t"})}),onFocus:e=>{y(),e.target.select(),h?.(e)},onBlur:m,onClick:()=>R("FILE_TREE.SEARCH_BOX")})});function f(){return"1"===new URLSearchParams(o.fV.search).get("search")}m.displayName="FilesSearchBox"}}]);
//# sourceMappingURL=36584-7fd1e1f1e7a1.js.map